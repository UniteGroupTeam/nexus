<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEXUS | Ficha Técnica</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Outfit', 'sans-serif'], tech: ['Rajdhani', 'sans-serif'] },
                    colors: { nexus: { black: '#030303', cyan: '#00F0FF', purple: '#7000FF', green: '#00FF94' } }
                }
            }
        }
    </script>

    <style>
        body { background: #030303; color: white; overflow-x: hidden; }
        .glass-panel { background: rgba(10, 10, 10, 0.9); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255,255,255,0.08); }
        .tech-border { border: 1px solid rgba(255,255,255,0.1); position: relative; }
        .tech-border::before { content: ''; position: absolute; top: -1px; left: -1px; width: 10px; height: 10px; border-top: 2px solid #00F0FF; border-left: 2px solid #00F0FF; }
        .tech-border::after { content: ''; position: absolute; bottom: -1px; right: -1px; width: 10px; height: 10px; border-bottom: 2px solid #00F0FF; border-right: 2px solid #00F0FF; }
        
        /* Cart Scrollbar */
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #111; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #333; border-radius: 2px; }
        /* Ajuste para imágenes PNG con fondo */
        #img-container img { mix-blend-mode: normal; }
    </style>
</head>
<body class="antialiased">

    <!-- Nav -->
    <nav class="fixed w-full z-50 top-0 glass-panel">
        <div class="px-6 h-20 flex justify-between items-center max-w-7xl mx-auto">
            <a href="catalogo.html" class="flex items-center gap-2 text-gray-400 hover:text-nexus-cyan transition font-tech uppercase tracking-widest text-sm">
                <i data-lucide="chevron-left" class="w-4 h-4"></i> Volver al Grid
            </a>
            
            <!-- LOGO INTEGRADO -->
            <a href="index.html" class="flex items-center gap-2 group">
                <img src="https://i.imgur.com/GtqogQE.png" alt="NEXUS Logo" class="h-8 md:h-10 w-auto object-contain drop-shadow-[0_0_15px_rgba(0,240,255,0.3)] group-hover:scale-110 transition-transform duration-300">
                <span class="text-xl font-tech font-bold tracking-widest text-white ml-1 group-hover:text-nexus-cyan transition-colors">NEXUS</span>
            </a>
            
            <button id="cart-btn" class="relative group">
                <i data-lucide="shopping-bag" class="text-white group-hover:text-nexus-cyan transition"></i>
                <span id="cart-count" class="absolute -top-1 -right-1 bg-nexus-cyan text-black text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-sm hidden shadow-[0_0_10px_rgba(0,240,255,0.5)]">0</span>
            </button>
        </div>
    </nav>

    <main class="pt-32 px-6 max-w-7xl mx-auto pb-20">
        <div class="flex flex-col lg:flex-row gap-12 lg:gap-20">
            
            <!-- Left: Visuals -->
            <div class="w-full lg:w-1/2">
                <div class="aspect-square tech-border bg-white/5 p-8 flex flex-col items-center justify-center relative overflow-hidden group">
                    <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMiIgY3k9IjIiIHI9IjEiIGZpbGw9IiMxYTFhMWEiLz48L3N2Zz4=')] opacity-30"></div>
                    <div id="img-container" class="w-full h-full flex items-center justify-center z-10 p-4">
                        <div class="animate-pulse w-32 h-32 bg-nexus-cyan/20 rounded-full blur-xl"></div>
                    </div>
                    <!-- DISCLAIMER AÑADIDO -->
                    <p class="text-xs text-gray-500 text-center mt-4 opacity-80 z-20 relative">Imagen ilustrativa. Si desean ver el producto real, por favor solicítenlo a través de nuestro contacto.</p>
                </div>
            </div>

            <!-- Right: Specs -->
            <div class="w-full lg:w-1/2 flex flex-col justify-center">
                <div class="mb-2 flex items-center gap-3">
                    <span id="prod-cat" class="text-nexus-cyan font-mono text-xs uppercase tracking-widest border border-nexus-cyan/30 px-2 py-1 bg-nexus-cyan/5">Sistema</span>
                    <span id="prod-badge" class="hidden text-nexus-purple font-mono text-xs uppercase tracking-widest border border-nexus-purple/30 px-2 py-1 bg-nexus-purple/5"></span>
                </div>
                
                <h1 id="prod-name" class="text-4xl md:text-6xl font-bold font-tech mb-6 leading-none text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-500">
                    CARGANDO DATOS...
                </h1>

                <div class="flex items-end gap-4 mb-8 border-b border-white/10 pb-8">
                    <span id="prod-price" class="text-4xl font-mono text-white">$0.00</span>
                    <span class="text-gray-500 text-sm mb-2">IVA INCLUIDO</span>
                </div>

                <div class="space-y-6 mb-10">
                    <p id="prod-desc" class="text-gray-400 leading-relaxed border-l-2 border-nexus-cyan/50 pl-4">Obteniendo descripción del servidor central...</p>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-white/5 p-3 rounded-sm border border-white/5">
                            <p class="text-[10px] text-gray-500 uppercase tracking-widest mb-1">Garantía</p>
                            <p class="text-sm font-bold text-white flex items-center gap-2"><i data-lucide="shield" class="w-3 h-3 text-nexus-green"></i> 30 Días (Defecto)</p>
                        </div>
                        <div class="bg-white/5 p-3 rounded-sm border border-white/5">
                            <p class="text-[10px] text-gray-500 uppercase tracking-widest mb-1">Despacho</p>
                            <p class="text-sm font-bold text-white flex items-center gap-2"><i data-lucide="zap" class="w-3 h-3 text-nexus-cyan"></i> 24-48 Horas</p>
                        </div>
                    </div>
                </div>

                <!-- Actions: Quantity & Cart -->
                <div class="flex flex-col sm:flex-row gap-4 items-stretch">
                    <!-- Quantity Selector -->
                    <div class="flex items-center justify-between bg-white/5 border border-white/10 rounded-sm px-4 py-2 sm:w-32">
                        <button id="qty-minus" class="text-gray-400 hover:text-white transition active:scale-90"><i data-lucide="minus" class="w-4 h-4"></i></button>
                        <span id="qty-val" class="font-mono text-xl font-bold text-white">1</span>
                        <button id="qty-plus" class="text-gray-400 hover:text-white transition active:scale-90"><i data-lucide="plus" class="w-4 h-4"></i></button>
                    </div>

                    <button id="add-btn" class="flex-1 px-6 py-4 border border-white/20 hover:border-nexus-cyan text-white hover:bg-nexus-cyan/10 hover:text-nexus-cyan transition flex items-center justify-center gap-2 font-tech tracking-widest uppercase">
                        <i data-lucide="shopping-cart" class="w-5 h-5"></i> Añadir
                    </button>

                    <button id="buy-btn" class="flex-1 py-4 bg-nexus-cyan text-black font-bold font-tech uppercase tracking-widest hover:bg-white transition-colors clip-path-slant flex justify-center items-center gap-2 shadow-[0_0_20px_rgba(0,240,255,0.3)]">
                        Comprar Ahora
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Cart Sidebar (Igual que en Catálogo) -->
    <div id="cart-overlay" class="fixed inset-0 z-[90] bg-nexus-black/80 backdrop-blur-sm hidden opacity-0 transition-opacity duration-300"></div>
    
    <div id="cart-panel" class="fixed inset-y-0 right-0 w-full md:w-[450px] z-[100] bg-[#050505] border-l border-white/10 flex flex-col transform translate-x-full transition-transform duration-300">
        <div class="p-6 border-b border-white/10 flex justify-between items-center bg-white/5">
            <h3 class="font-tech font-bold text-xl tracking-wider text-white flex items-center gap-2">
                <i data-lucide="cpu" class="w-5 h-5 text-nexus-cyan"></i> MODULO_CARRITO
            </h3>
            <button id="close-cart" class="text-gray-400 hover:text-white transition"><i data-lucide="x" class="w-6 h-6"></i></button>
        </div>
        
        <div id="cart-items" class="flex-grow overflow-y-auto p-6 space-y-4 custom-scrollbar"></div>
        
        <div class="p-6 border-t border-white/10 bg-nexus-black space-y-4">
            <div class="flex justify-between items-end font-tech">
                <span class="text-gray-500 tracking-widest text-sm">TOTAL ESTIMADO</span>
                <span id="cart-total" class="font-bold text-3xl text-white text-shadow-glow">$0.00</span>
            </div>
            <button id="checkout-btn" class="w-full py-4 bg-nexus-cyan/10 border border-nexus-cyan text-nexus-cyan font-bold font-tech tracking-widest uppercase hover:bg-nexus-cyan hover:text-black transition-all duration-300 flex justify-center items-center gap-2 group">
                <i data-lucide="message-square" class="w-4 h-4"></i> Iniciar Transferencia
            </button>
        </div>
    </div>

    <script>
        lucide.createIcons();
        
        // --- BASE DE DATOS COMPLETA Y SINCRONIZADA ---
        const products = [
             // --- PRODUCTOS ESTRELLA (Top del Catálogo) ---
            { id: 'tab-ipad', name: 'Tablet tipo iPad Pro 10.1"', price: 2499, category: 'Electrónica', img: 'https://i.imgur.com/jqFnQzA.png', badge: 'TOP VENTAS', desc: 'Pantalla de 10.1" HD. 8GB RAM + 256GB Almacenamiento. Procesador Octa-Core. Ideal para productividad y entretenimiento.' },
            { id: 'tab-s25', name: 'Tablet S25 Ultra', price: 2499, category: 'Electrónica', img: 'https://i.imgur.com/e1g2Em1.png', badge: 'NEW', desc: 'Rendimiento superior. Pantalla 10.1", Android 12, 8GB RAM, 256GB ROM. Doble cámara y batería de larga duración.' },
            { id: 'sw-ultra-apple', name: 'Apple Watch Ultra (OEM)', price: 799, category: 'Smartwatch', img: 'https://i.imgur.com/GsqP7WQ.png', badge: 'HOT', desc: 'Diseño robusto de 49mm. Tornillos reales, broche de seguridad en correas y pantalla infinita.' },
            { id: 'au-beats-studio', name: 'Beats Studio Pro (OEM)', price: 599, category: 'Audio', img: 'https://i.imgur.com/a/XbpzmJV.png', badge: 'PRO AUDIO', desc: 'Sonido de alta fidelidad con cancelación de ruido activa. Diseño circumaural para máxima comodidad.' },

            // --- SMARTWATCHES PREMIUM ---
            { id: 'sw-ultra-hermes', name: 'Apple Watch Ultra Hermes (OEM)', price: 850, category: 'Smartwatch', img: 'https://i.imgur.com/JoHpOnX.png', badge: 'LUXE', desc: 'Edición de lujo. Incluye correas exclusivas estilo Hermes y carátulas premium.' },
            { id: 'sw-s10-hermes', name: 'Apple Watch S10 Hermes (OEM)', price: 799, category: 'Smartwatch', img: 'https://i.imgur.com/IkRxLiq.png', desc: 'Serie 10 con estética Hermes. Elegancia y funcionalidad con doble extensible incluido.' },
            { id: 'sw-s10-nike', name: 'Apple Watch S10 Nike (OEM)', price: 799, category: 'Smartwatch', img: 'https://i.imgur.com/YhM4qTx.png', badge: 'SPORT', desc: 'Edición deportiva. Correas perforadas Nike para mejor ventilación y carátulas exclusivas.' },
            { id: 'sw-r9-edge', name: 'G-Tide R9 Edge', price: 1399, category: 'Smartwatch', img: 'https://i.imgur.com/yxK0Cl6.png', badge: 'RECOMENDADO', desc: 'VENTAJAS: Pantalla AMOLED Curva 3D, Sumergible IP68, cuerpo metálico delgado y batería de larga duración.' },
            
            // --- GAMING ---
            { id: 'gm-r40-ultra', name: 'Game Master R40 Ultra', price: 1399, category: 'Gaming', img: 'https://i.imgur.com/rqGh7VN.png', badge: 'GAMER CHOICE', desc: 'Consola portátil premium. Pantalla de alta resolución, emula múltiples plataformas retro. Batería recargable.' },
            { id: 'gm-stick', name: 'Game Stick Lite 4K', price: 899, category: 'Gaming', img: 'https://i.imgur.com/t0imnN7.png', desc: 'Conecta directo al HDMI. Incluye miles de juegos clásicos y dos controles inalámbricos.' },

            // --- MÁS SMARTWATCHES ---
            { id: 'sw-s6-pro', name: 'G-Tide S6 Pro', price: 999, category: 'Smartwatch', img: 'https://i.imgur.com/LH9vZCl.png', desc: 'Pack versátil: Incluye 3 correas intercambiables (silicón, metálica, piel) para cualquier ocasión.' },
            { id: 'sw-s5-pro', name: 'G-Tide S5 Pro', price: 999, category: 'Smartwatch', img: 'https://i.imgur.com/LpW23dS.png', desc: 'Estilo Ultra resistente. Pantalla grande de alta definición y monitoreo deportivo.' },
            { id: 'sw-hk11-ultra3', name: 'HK11 Ultra 3 AMOLED', price: 1299, category: 'Smartwatch', img: 'https://i.imgur.com/CBjs1KR.png', badge: 'AMOLED', desc: 'Pantalla AMOLED real. Fluidez extrema, colores vibrantes y diseño 1:1 Ultra.' },
            { id: 'sw-hk11-promax', name: 'HK11 Pro Max+ AMOLED', price: 1299, category: 'Smartwatch', img: 'https://i.imgur.com/5viNy6h.png', desc: 'Pantalla AMOLED de alto rendimiento. Interfaz súper fluida y potentes funciones.' },
            { id: 'sw-hk11-mini', name: 'HK11 Mini AMOLED', price: 1299, category: 'Smartwatch', img: 'https://i.imgur.com/G2iw0TN.png', badge: 'COMPACTO', desc: 'Versión compacta de alta gama. Ideal para muñecas más pequeñas sin sacrificar potencia AMOLED.' },
            { id: 'sw-sam-amoled', name: 'Galaxy Watch AMOLED (OEM)', price: 1299, category: 'Smartwatch', img: 'https://i.imgur.com/rGlBUnO.png', desc: 'Pantalla AMOLED vibrante con logo Samsung al encender. NOTA: NO es sumergible.' },
            { id: 'sw-sam-ultra', name: 'Samsung Watch Ultra (OEM)', price: 799, category: 'Smartwatch', img: 'https://i.imgur.com/2bQiDjQ.png', desc: 'Diseño deportivo inspirado en el modelo Ultra. Resistente a salpicaduras leves.' },

             // --- AUDIO & OTROS ---
            { id: 'au-clip-1', name: 'G-Tide Audífonos Clip 1', price: 399, category: 'Audio', img: 'https://i.imgur.com/E2ELAAB.png', badge: 'INNOVACIÓN', desc: 'Diseño Open-Ear. No bloquea el oído, ideal para deportes al aire libre. Ligeros y cómodos.' },
            { id: 'au-spk-karaoke', name: 'Bocina Karaoke Box BTS', price: 950, category: 'Audio', img: 'https://i.imgur.com/syXUnDi.png', desc: 'Potencia y diversión. Incluye micrófono inalámbrico y luces LED rítmicas para fiestas.' },
            { id: 'au-spk-65', name: 'Bocina 6.5" Fantastic Quality', price: 499, category: 'Audio', img: 'https://i.imgur.com/Of8qn1M.png', desc: 'Tamaño compacto, gran sonido. Conectividad Bluetooth, USB y radio FM.' },
            { id: 'au-spk-8', name: 'Bocina 8" Fantastic Quality', price: 650, category: 'Audio', img: 'https://i.imgur.com/P7wxRdK.png', desc: 'Mayor potencia de bajos con woofer de 8 pulgadas. Batería recargable.' },
            { id: 'dp-box', name: 'Entrenador de Box Musical', price: 899, category: 'Deportes', img: 'https://i.imgur.com/7AgCZwq.png', desc: 'Máquina de entrenamiento montable en pared. Mejora reflejos al ritmo de la música.' }
        ];

        // --- LÓGICA DE PRODUCTO ---
        const params = new URLSearchParams(window.location.search);
        const prodId = params.get('id') || products[0].id; 
        const product = products.find(p => p.id === prodId) || products[0];
        
        let quantity = 1;
        const qtyVal = document.getElementById('qty-val');

        if (product) {
            document.title = `NEXUS | ${product.name}`;
            document.getElementById('prod-name').innerText = product.name;
            document.getElementById('prod-price').innerText = `$${product.price}`;
            document.getElementById('prod-cat').innerText = product.category;
            document.getElementById('prod-desc').innerText = product.desc;
            
            if(product.badge) {
                const b = document.getElementById('prod-badge');
                b.innerText = product.badge;
                b.classList.remove('hidden');
            }
            
            document.getElementById('img-container').innerHTML = `<img src="${product.img}" class="w-full h-full object-contain drop-shadow-[0_0_25px_rgba(255,255,255,0.15)] shadow-white/10">`;

            // -- Lógica de Cantidad --
            document.getElementById('qty-minus').onclick = () => {
                if (quantity > 1) {
                    quantity--;
                    qtyVal.innerText = quantity;
                }
            };
            document.getElementById('qty-plus').onclick = () => {
                quantity++;
                qtyVal.innerText = quantity;
            };

            // -- Compra Directa --
            document.getElementById('buy-btn').onclick = () => {
                const text = `SOLICITUD_COMPRA::NEXUS\n\n- Producto: ${product.name}\n- Cantidad: ${quantity}\n- Total aprox: $${product.price * quantity}\n\nEspero instrucciones de pago.`;
                window.open(`https://wa.me/525574123521?text=${encodeURIComponent(text)}`, '_blank');
            };

            // -- Añadir al Carrito (Múltiple) --
            document.getElementById('add-btn').onclick = () => {
                let c = JSON.parse(localStorage.getItem('uniteCart')) || [];
                // Añadimos 'quantity' veces el producto al carrito
                for(let i=0; i<quantity; i++) {
                    c.push(product);
                }
                localStorage.setItem('uniteCart', JSON.stringify(c));
                
                // Feedback Visual y Abrir Carrito
                openCart();
                renderCart();
            };
        }

        // --- LÓGICA DE CARRITO (Replicada de Catálogo) ---
        let cart = JSON.parse(localStorage.getItem('uniteCart')) || [];
        const cartCount = document.getElementById('cart-count');
        const cartPanel = document.getElementById('cart-panel');
        const cartOverlay = document.getElementById('cart-overlay');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');

        function saveCart() {
            localStorage.setItem('uniteCart', JSON.stringify(cart));
            cartCount.innerText = cart.length;
            cartCount.classList.toggle('hidden', cart.length === 0);
        }

        function renderCart() {
            cart = JSON.parse(localStorage.getItem('uniteCart')) || [];
            cartItemsContainer.innerHTML = '';
            let total = 0;
            if(cart.length === 0) {
                cartItemsContainer.innerHTML = '<div class="text-center text-gray-600 font-tech py-10 tracking-widest">SISTEMA_VACÍO</div>';
            } else {
                cart.forEach((item, idx) => {
                    total += item.price;
                    const el = document.createElement('div');
                    el.className = 'flex items-center gap-4 bg-white/5 p-3 rounded-sm border border-white/5 relative group';
                    el.innerHTML = `
                        <div class="w-16 h-16 bg-white/10 rounded-sm flex-shrink-0 flex items-center justify-center p-2"><img src="${item.img}" class="w-full h-full object-contain"></div>
                        <div class="flex-grow min-w-0">
                            <p class="text-xs font-tech text-nexus-cyan mb-1 tracking-wider uppercase">${item.category}</p>
                            <p class="text-sm font-bold text-white truncate">${item.name}</p>
                            <p class="text-xs text-gray-400">$${item.price}</p>
                        </div>
                        <button onclick="removeCartItem(${idx})" class="p-2 text-gray-600 hover:text-nexus-red transition"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                    `;
                    cartItemsContainer.appendChild(el);
                });
            }
            cartTotal.innerText = `$${total.toLocaleString()}`;
            saveCart(); // Update badge
            lucide.createIcons();
        }

        window.removeCartItem = (idx) => { 
            cart.splice(idx, 1); 
            localStorage.setItem('uniteCart', JSON.stringify(cart)); // Guardar cambio
            renderCart(); 
        };

        const openCart = () => { 
            renderCart(); // Cargar datos frescos
            cartOverlay.classList.remove('hidden'); 
            setTimeout(() => { 
                cartOverlay.classList.remove('opacity-0'); 
                cartPanel.classList.remove('translate-x-full'); 
            }, 10); 
        };
        
        const closeCartFn = () => {
            cartPanel.classList.add('translate-x-full');
            cartOverlay.classList.add('opacity-0');
            setTimeout(() => cartOverlay.classList.add('hidden'), 300);
        };

        document.getElementById('cart-btn').addEventListener('click', openCart);
        document.getElementById('close-cart').addEventListener('click', closeCartFn);
        cartOverlay.addEventListener('click', closeCartFn);

        document.getElementById('checkout-btn').addEventListener('click', () => {
            if(cart.length === 0) return;
            let msg = "INICIANDO_SECUENCIA_PEDIDO::NEXUS\n\nÍTEMS:\n";
            let t = 0;
            cart.forEach(p => { msg += `[+] ${p.name} ($${p.price})\n`; t += p.price; });
            msg += `\nVALOR_TOTAL: $${t}\n\nEsperando instrucciones de pago.`;
            window.open(`https://wa.me/525574123521?text=${encodeURIComponent(msg)}`, '_blank');
        });

        // Init
        renderCart();
    </script>
</body>
</html>